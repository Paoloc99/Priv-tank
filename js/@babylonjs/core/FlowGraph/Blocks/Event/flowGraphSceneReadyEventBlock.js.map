{"version":3,"file":"flowGraphSceneReadyEventBlock.js","sourceRoot":"","sources":["../../../../../../dev/core/src/FlowGraph/Blocks/Event/flowGraphSceneReadyEventBlock.ts"],"names":[],"mappings":"AAIA,OAAO,EAAE,mBAAmB,EAAE,MAAM,2BAA2B,CAAC;AAEhE;;;GAGG;AACH,MAAM,OAAO,6BAA8B,SAAQ,mBAAmB;IAIlE,YAAmB,KAAgB,EAAE,KAAY;QAC7C,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,CAAC;IAED;;OAEG;IACI,eAAe;QAClB,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE;YAC3B,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,GAAG,CAAC,GAAG,EAAE;gBAC9D,IAAI,CAAC,QAAQ,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED;;OAEG;IACI,cAAc;QACjB,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC/D,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;IACpC,CAAC;CACJ","sourcesContent":["import type { Nullable } from \"../../../types\";\r\nimport type { Observer } from \"../../../Misc/observable\";\r\nimport type { Scene } from \"../../../scene\";\r\nimport type { FlowGraph } from \"../../flowGraph\";\r\nimport { FlowGraphEventBlock } from \"../../flowGraphEventBlock\";\r\n\r\n/**\r\n * @experimental\r\n * Block that triggers when a scene is ready.\r\n */\r\nexport class FlowGraphSceneReadyEventBlock extends FlowGraphEventBlock {\r\n    private _scene: Scene;\r\n    private _sceneReadyObserver: Nullable<Observer<Scene>>;\r\n\r\n    public constructor(graph: FlowGraph, scene: Scene) {\r\n        super(graph);\r\n        this._scene = scene;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _startListening(): void {\r\n        if (!this._sceneReadyObserver) {\r\n            this._sceneReadyObserver = this._scene.onReadyObservable.add(() => {\r\n                this._execute();\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _stopListening() {\r\n        this._scene.onReadyObservable.remove(this._sceneReadyObserver);\r\n        this._sceneReadyObserver = null;\r\n    }\r\n}\r\n"]}